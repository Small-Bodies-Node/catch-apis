# CATCH-APIs v2.0.0

An astronomical survey data search tool: catch comets and asteroids in wide-field sky survey data.

## Overview

CATCH-APIs is a REST API service that enable a user to search for potential observations comets and asteroids in wide-field sky survey data.  This API is designed for use by the Planetary Data System Small Bodies Node (SBN) at the University of Maryland, but it is possible to deploy anywhere with other data sets.  SBN is the primary archive for the NEAT and ATLAS surveys, and CATCH-APIs is one of primary methods for users to discover scientifically interesting data in those data sets.

The API is backed by:
- The [catch](https://github.com/Small-Bodies-Node/catch) and [sbsearch](https://github.com/Small-Bodies-Node/sbsearch) Python libraries, which define how survey metadata is stored and execute the actual searches on the database.
    - The [s2geometry](http://s2geometry.io/) C++ library is used for spatial indexing on the Celestial Sphere.
    - Target ephemerides are generated by [Horizons](https://ssd.jpl.nasa.gov/?horizons) at NASA JPL via [astroquery](https://astroquery.readthedocs.io/).
    - [SQLAlchemy](https://www.sqlalchemy.org/) and [PostgreSQL](https://www.postgresql.org/) for storing user queries and survey metadata ([sqlite3](https://sqlite.org/) may be use as an alternative).
    - Metadata ingestion uses the [pds3](https://github.com/mkelley/pds3) or [pds4_tools](https://github.com/Small-Bodies-Node/pds4_tools) Python libraries.
- [flask](https://flask.palletsprojects.com/), [connexion](https://connexion.readthedocs.io/), [openapi](https://swagger.io/specification/), and [gunicorn](https://gunicorn.org/) for the API experience and documentation.
- [redis](https://redis.io/) for the job queue and user task messaging.
- [rq](https://python-rq.org/) and [pm2](https://pm2.keymetrics.io/) execute the job queue.


## Requirements

CATCH-APIs are developed for linux/macos systems.  In addition to the above tools, Python requirements are detailed in [requirements.txt](requirements.txt).

